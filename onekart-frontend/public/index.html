<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OneKart | Freshness Delivered</title>
  <!-- Favicon placeholder -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="index.css">
  <style>
    .hero {
      position: relative;
      padding: 10rem 5% 6rem;
      color: var(--white);
      text-align: right;
      overflow: hidden;
      min-height: 600px;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      background: #000;
      /* Prevent white flashes */
    }

    .hero-bg-container {
      position: absolute;
      inset: 0;
      z-index: 0;
    }

    .hero-slide {
      position: absolute;
      inset: 0;
      background-size: cover;
      background-position: center;
      opacity: 0;
      transition: opacity 2s ease-in-out;
      filter: brightness(0.7) saturate(1.2);
      /* Brighter, more vibrant images */
    }

    .hero-slide.active {
      opacity: 1;
    }

    .hero-bg-overlay {
      display: none;
    }

    /* Removed hazy overlay to keep images clean */
    .hero::after {
      display: none;
    }

    .hero-content {
      position: relative;
      z-index: 2;
      max-width: 650px;
      margin-right: 2rem;
    }

    .hero h2 {
      font-size: 3.5rem;
      margin-bottom: 1.5rem;
      line-height: 1.2;
      background: linear-gradient(to right, #fff, #94a3b8);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .hero p {
      font-size: 1.25rem;
      color: #94a3b8;
      margin-bottom: 2.5rem;
    }

    .search-area {
      max-width: 500px;
      margin-left: auto;
      position: relative;
    }

    .search-area input {
      padding: 1.2rem 1.2rem 1.2rem 3.5rem;
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      width: 100%;
      font-size: 1.1rem;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(20px);
      color: white;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      transition: all 0.3s;
    }

    .search-area input::placeholder {
      color: rgba(255, 255, 255, 0.6);
    }

    .search-area input:focus {
      outline: none;
      background: rgba(255, 255, 255, 0.25);
      border-color: var(--primary);
      box-shadow: 0 8px 32px rgba(16, 185, 129, 0.3);
    }

    .search-area i {
      position: absolute;
      left: 1.5rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--primary);
      z-index: 5;
    }

    .product-section {
      background: #f8fafc;
      background-image: radial-gradient(#e2e8f0 0.5px, transparent 0.5px);
      background-size: 20px 20px;
      padding-bottom: 5rem;
    }

    .section-title {
      padding: 4rem 5% 0;
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
    }

    .section-title h2 {
      font-size: 2rem;
      color: var(--dark);
    }

    .product-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2.5rem;
      padding: 2rem 5%;
    }

    @media (max-width: 1100px) {
      .product-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 768px) {
      .product-grid {
        grid-template-columns: 1fr;
      }
    }

    .product-card {
      border-radius: 24px;
      overflow: hidden;
      background: var(--white);
      border: 1px solid rgba(0, 0, 0, 0.05);
      transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
      display: flex;
      flex-direction: column;
      position: relative;
      animation: cardEntrance 0.8s ease backwards;
    }

    .product-card::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 24px;
      padding: 2px;
      background: linear-gradient(135deg, #10b981, #3b82f6, #8b5cf6);
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      opacity: 0;
      transition: opacity 0.4s;
    }

    .product-card:hover {
      transform: translateY(-15px) scale(1.02);
      box-shadow: 0 40px 60px -15px rgba(16, 185, 129, 0.25);
    }

    .product-card:hover::before {
      opacity: 1;
    }

    @keyframes cardEntrance {
      from {
        opacity: 0;
        transform: translateY(30px) scale(0.95);
      }

      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .product-img {
      height: 250px;
      overflow: hidden;
      position: relative;
    }

    .product-img img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }

    .product-card:hover .product-img img {
      transform: scale(1.1);
    }

    .product-info {
      padding: 1.5rem;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
    }

    .product-cat {
      font-size: 0.8rem;
      color: var(--primary);
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 0.5rem;
    }

    .product-info h3 {
      font-size: 1.25rem;
      margin-bottom: 0.75rem;
      color: var(--dark);
    }

    .product-desc {
      font-size: 0.9rem;
      color: #64748b;
      margin-bottom: 1.5rem;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .price-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: auto;
    }

    .price {
      font-size: 1.5rem;
      font-weight: 800;
      color: var(--dark);
    }

    .qty-badge {
      background: var(--primary-light);
      color: var(--primary-dark);
      padding: 0.2rem 0.6rem;
      border-radius: 6px;
      font-size: 0.8rem;
      font-weight: 700;
    }

    .cart-actions {
      margin-top: 1.5rem;
    }

    .qty-controls {
      display: flex;
      align-items: center;
      background: var(--light);
      border-radius: 12px;
      padding: 0.3rem;
      justify-content: space-between;
    }

    .qty-btn {
      width: 36px;
      height: 36px;
      border-radius: 10px;
      background: var(--white);
      border: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s;
    }

    .qty-btn:hover {
      background: var(--primary);
      color: var(--white);
      border-color: var(--primary);
    }

    .qty-val {
      font-weight: 700;
      font-size: 1.1rem;
      width: 40px;
      text-align: center;
    }

    .add-btn {
      width: 100%;
      background: linear-gradient(135deg, var(--dark) 0%, #1e293b 100%);
      color: var(--white);
      padding: 1.1rem;
      border-radius: 16px;
      border: none;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.8rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .add-btn:hover {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(16, 185, 129, 0.3);
    }

    .toast {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      background: var(--dark);
      color: var(--white);
      padding: 1rem 2rem;
      border-radius: var(--radius);
      box-shadow: var(--shadow-lg);
      display: flex;
      align-items: center;
      gap: 1rem;
      transform: translateX(120%);
      transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      z-index: 2000;
    }

    .toast.show {
      transform: translateX(0);
    }

    .cart-count {
      background: var(--error);
      color: white;
      font-size: 0.7rem;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      position: absolute;
      top: -5px;
      right: -10px;
    }

    /* Loading */
    .loading-shimmer {
      background: linear-gradient(90deg, #f1f5f9 25%, #e2e8f0 50%, #f1f5f9 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
    }

    @keyframes shimmer {
      0% {
        background-position: 200% 0;
      }

      100% {
        background-position: -200% 0;
      }
    }

    /* Contact Dropdown */
    .nav-item-dropdown {
      position: relative;
      display: inline-block;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      right: 0;
      top: 100%;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      min-width: 240px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      border-radius: 16px;
      padding: 0.8rem;
      z-index: 1000;
      border: 1px solid rgba(255, 255, 255, 0.5);
      animation: slideUp 0.3s ease;
      margin-top: 1rem;
    }

    .nav-item-dropdown:hover .dropdown-content {
      display: block;
    }

    .dropdown-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 0.8rem 1rem;
      color: var(--dark) !important;
      text-decoration: none;
      border-radius: 12px;
      transition: all 0.2s;
      font-size: 0.9rem;
      text-align: left;
    }

    .dropdown-item:hover {
      background: var(--primary-light);
      transform: translateX(5px);
    }

    .dropdown-item i {
      font-size: 1.2rem;
      color: var(--primary);
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>

<body>
  <nav class="navbar">
    <a href="/" class="logo">OneKart.</a>
    <div class="nav-links" id="navbarLinks">
      <!-- Dynamic Content -->
    </div>
  </nav>

  <header class="hero">
    <div id="heroSlides" class="hero-bg-container"></div>
    <div class="hero-content animate-fade">
      <h2>Farm Fresh Goodness<br>Delivered to Your Door.</h2>
      <p>Connect directly with local farmers and get the highest quality organic produce at transparent prices.</p>
      <div class="search-area">
        <i class="fas fa-search"></i>
        <input type="text" id="searchBox" placeholder="What are you looking for today?">
      </div>
    </div>
  </header>

  <div class="product-section">
    <main>
      <div class="section-title">
        <div>
          <h2 id="greeting">Fresh Arrivals</h2>
          <p style="color: #64748b;">Hand-picked produce delivered from local farms</p>
        </div>
        <div id="filterTags" style="display: flex; gap: 1rem;">
          <!-- Tags could go here -->
        </div>
      </div>

      <div class="product-grid" id="productList">
        <!-- Products load here -->
      </div>
    </main>
  </div>

  <footer>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 3rem;">
      <div>
        <h3 style="margin-bottom: 1.5rem;">OneKart.</h3>
        <p style="color: #94a3b8; font-size: 0.9rem;">Empowering local farmers and providing fresh organic produce to
          every home. Quality you can trust.</p>
      </div>
      <div>
        <h4 style="margin-bottom: 1.2rem;">Quick Links</h4>
        <ul style="list-style: none; color: #94a3b8; font-size: 0.9rem;">
          <li style="margin-bottom: 0.8rem;"><a href="/" style="color: inherit; text-decoration: none;">Home</a></li>
          <li style="margin-bottom: 0.8rem;"><a href="/cart" style="color: inherit; text-decoration: none;">My Cart</a>
          </li>
          <li style="margin-bottom: 0.8rem;"><a href="/myorders" style="color: inherit; text-decoration: none;">Track
              Orders</a></li>
        </ul>
      </div>
      <div>
        <h4 style="margin-bottom: 1.2rem;">Contact Us</h4>
        <p style="color: #94a3b8; font-size: 0.9rem;">Email: hello@onekart.live</p>
        <p style="color: #94a3b8; font-size: 0.9rem;">Support: +1 234 567 890</p>
      </div>
    </div>
    <div
      style="border-top: 1px solid #334155; margin-top: 3rem; padding-top: 2rem; text-align: center; color: #64748b; font-size: 0.8rem;">
      &copy; 2026 OneKart. All rights reserved.
    </div>
  </footer>

  <div id="toast" class="toast">
    <i class="fas fa-check-circle" style="color: var(--primary);"></i>
    <span id="toastMsg">Action successful</span>
  </div>

  <script>
    const cartMap = new Map();
    const searchBox = document.getElementById("searchBox");
    const productList = document.getElementById("productList");

    const getCookie = (name) => {
      const match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
      return match ? match[2] : null;
    };

    const showToast = (msg, isSuccess = true) => {
      const toast = document.getElementById("toast");
      const icon = toast.querySelector("i");
      document.getElementById("toastMsg").textContent = msg;

      icon.className = isSuccess ? "fas fa-check-circle" : "fas fa-exclamation-circle";
      icon.style.color = isSuccess ? "var(--primary)" : "var(--error)";

      toast.classList.add("show");
      setTimeout(() => toast.classList.remove("show"), 3000);
    };

    const logout = () => {
      document.cookie = "token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC;";
      window.location.href = "/";
    };

    async function initApp() {
      const token = getCookie("token");
      const navLinks = document.getElementById("navbarLinks");

      if (token) {
        try {
          const res = await fetch("http://localhost/OneKart/onekart/api/getuser", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ token })
          });
          const data = await res.json();

          if (data.status === 'success') {
            const user = data.user;
            if (user.role === 'farmer') return window.location.href = "seller/dashboard";
            if (user.role === 'admin') return window.location.href = "admin/dashboard";

            document.getElementById("greeting").textContent = `Welcome back, ${user.name}`;
            const contactDropdown = `
              <div class="nav-item-dropdown">
                <a href="#" style="display: flex; align-items: center; gap: 0.4rem;">Contact <i class="fas fa-chevron-down" style="font-size: 0.7rem;"></i></a>
                <div class="dropdown-content">
                  <a href="mailto:support@onekart.com" class="dropdown-item">
                    <i class="fas fa-envelope-open-text"></i>
                    <div><div style="font-weight:700;">Email Support</div><div style="font-size:0.7rem; color: #64748b;">Response within 2 hours</div></div>
                  </a>
                  <a href="tel:+919876543210" class="dropdown-item">
                    <i class="fas fa-headset"></i>
                    <div><div style="font-weight:700;">Help Center</div><div style="font-size:0.7rem; color: #64748b;">24/7 Dedicated line</div></div>
                  </a>
                  <a href="#" class="dropdown-item">
                    <i class="fas fa-comment-dots"></i>
                    <div><div style="font-weight:700;">Live Chat</div><div style="font-size:0.7rem; color: #64748b;">Speak to an agent now</div></div>
                  </a>
                </div>
              </div>
            `;
            navLinks.innerHTML = `
                            <a href="./">Home</a>
                            <a href="myorders">My Orders</a>
                            <a href="track-order">Track Order</a>
                            ${contactDropdown}
                            <a href="cart" style="position: relative;">
                                <i class="fas fa-shopping-bag"></i>
                                <span id="cartCount" class="cart-count" style="display:none;">0</span>
                            </a>
                            <button onclick="logout()" class="btn btn-dark" style="padding: 0.5rem 1rem;">Logout</button>
                        `;
            loadCart();
          } else { logout(); }
        } catch { logout(); }
      } else {
        const guestContactDropdown = `
              <div class="nav-item-dropdown">
                <a href="#" style="display: flex; align-items: center; gap: 0.4rem;">Contact <i class="fas fa-chevron-down" style="font-size: 0.7rem;"></i></a>
                <div class="dropdown-content">
                  <a href="mailto:support@onekart.com" class="dropdown-item">
                    <i class="fas fa-envelope-open-text"></i>
                    <div><div style="font-weight:700;">Email Support</div><div style="font-size:0.7rem; color: #64748b;">Response within 2 hours</div></div>
                  </a>
                  <a href="tel:+919876543210" class="dropdown-item">
                    <i class="fas fa-headset"></i>
                    <div><div style="font-weight:700;">Help Center</div><div style="font-size:0.7rem; color: #64748b;">24/7 Dedicated line</div></div>
                  </a>
                </div>
              </div>
            `;
        navLinks.innerHTML = `
                    <a href="./">Home</a>
                    ${guestContactDropdown}
                    <a href="login">Login</a>
                    <a href="register" class="btn btn-primary" style="padding: 0.5rem 1.2rem; color: #fff;">Get Started</a>
                `;
      }
      fetchProducts();
    }

    async function loadCart() {
      const token = getCookie("token");
      try {
        const res = await fetch("http://localhost/OneKart/onekart/api/cart/view", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ token })
        });
        const data = await res.json();
        if (data.status === "success") {
          cartMap.clear();
          let total = 0;
          data.cart.forEach(item => {
            cartMap.set(item.product_id, item.quantity);
            total += item.quantity;
          });
          const badge = document.getElementById("cartCount");
          if (badge) {
            badge.textContent = total;
            badge.style.display = total > 0 ? "flex" : "none";
          }
        }
      } catch (err) { }
    }

    async function fetchProducts(search = "") {
      productList.innerHTML = Array(6).fill(0).map(() => `
                <div class="product-card">
                    <div class="product-img loading-shimmer"></div>
                    <div class="product-info">
                        <div class="loading-shimmer" style="height: 20px; width: 60%; margin-bottom: 1rem;"></div>
                        <div class="loading-shimmer" style="height: 15px; width: 90%; margin-bottom: 0.5rem;"></div>
                        <div class="loading-shimmer" style="height: 15px; width: 40%;"></div>
                    </div>
                </div>
            `).join('');

      try {
        const res = await fetch("http://localhost/OneKart/onekart/api/products/search", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ search })
        });
        const data = await res.json();
        productList.innerHTML = "";

        if (data.status === "success" && data.data?.length) {
          const token = getCookie("token");
          // Shuffle products for dynamic UI
          const shuffledProducts = data.data.sort(() => Math.random() - 0.5);

          shuffledProducts.forEach((p, index) => {
            const qty = cartMap.get(p.id) || 0;
            const card = document.createElement("div");
            card.className = "product-card animate-fade";

            // Staggered animation delay
            card.style.animationDelay = `${index * 0.12}s`;

            const img = p.image_url.startsWith('http') ? p.image_url : 'http://localhost/OneKart/onekart/' + p.image_url;

            card.innerHTML = `
                            <div class="product-img">
                                <img src="${img}" alt="${p.name}" onerror="this.src='https://images.unsplash.com/photo-1542838132-92c53300491e?auto=format&fit=crop&q=80&w=1000'">
                                <div style="position: absolute; top: 1rem; right: 1rem; z-index: 10;">
                                  <span class="qty-badge" style="background: rgba(255,255,255,0.9); backdrop-filter: blur(8px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); padding: 0.4rem 0.8rem; border-radius: 12px;">
                                    ${p.quantity > 0 ? `${p.quantity} units left` : 'Out of stock'}
                                  </span>
                                </div>
                                ${qty > 0 ? `
                                  <div style="position:absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(transparent, rgba(16, 185, 129, 0.8)); padding: 2rem 1rem 0.5rem; color: white; font-weight: 700; font-size: 0.8rem; text-align: center;">
                                    ${qty} in cart
                                  </div>
                                ` : ''}
                            </div>
                            <div class="product-info">
                                <span class="product-cat" style="background: linear-gradient(135deg, #10b981 0%, #3b82f6 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                                  ${p.farmer_name || 'OneKart Organic'}
                                </span>
                                <h3 style="margin-top: 0.5rem;">${p.name}</h3>
                                <p class="product-desc">${p.description}</p>
                                <div class="price-row">
                                    <span class="price">â‚¹${parseFloat(p.price).toFixed(2)}</span>
                                </div>
                                <div class="cart-actions">
                                    ${qty > 0 ? `
                                        <div class="qty-controls">
                                            <button class="qty-btn" onclick="updateCart(${p.id}, -1, this)"><i class="fas fa-minus"></i></button>
                                            <span class="qty-val">${qty}</span>
                                            <button class="qty-btn" onclick="updateCart(${p.id}, 1, this)" ${p.quantity <= qty ? 'disabled style="opacity:0.5; cursor:not-allowed;"' : ''}><i class="fas fa-plus"></i></button>
                                        </div>
                                    ` : `
                                        ${p.quantity > 0 ? `
                                            <button class="add-btn" onclick="${token ? `updateCart(${p.id}, 1, this)` : "window.location.href='login'"}">
                                                <i class="fas fa-shopping-basket"></i> Add to Cart
                                            </button>
                                        ` : `
                                            <button class="add-btn" disabled style="background: #e2e8f0; color: #94a3b8; cursor: not-allowed; box-shadow: none;">
                                                <i class="fas fa-exclamation-circle"></i> Out of Stock
                                            </button>
                                        `}
                                    `}
                                </div>
                            </div>
                        `;
            productList.appendChild(card);
          });
        } else {
          productList.innerHTML = `<div style="grid-column: 1/-1; text-align: center; padding: 4rem;">
                        <i class="fas fa-search" style="font-size: 3rem; color: #cbd5e1; margin-bottom: 1rem;"></i>
                        <p style="color: #64748b;">No products found matching your search.</p>
                    </div>`;
        }
      } catch {
        productList.innerHTML = "<p>Failed to load products.</p>";
      }
    }

    async function updateCart(productId, change, btn) {
      const token = getCookie("token");
      if (!token) return window.location.href = '/login';

      const current = cartMap.get(productId) || 0;
      const target = current + change;
      if (target < 0) return;

      btn.style.opacity = "0.5";
      btn.style.pointerEvents = "none";

      try {
        let ep = target === 0 ? "remove" : (current === 0 ? "add" : "update");
        const body = { token, product_id: productId };
        if (ep !== "remove") body.quantity = ep === "add" ? 1 : target;

        const res = await fetch(`http://localhost/OneKart/onekart/api/cart/${ep}`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(body)
        });
        const data = await res.json();

        if (data.status === "success") {
          showToast(target === 0 ? "Item removed" : (change > 0 ? "Added to cart" : "Quantity updated"));
          await loadCart();
          await fetchProducts(searchBox.value);
        } else {
          showToast(data.message || "Error updating cart", false);
        }
      } catch (err) {
        showToast("Network error", false);
      }
    }

    searchBox.addEventListener("input", (e) => {
      fetchProducts(e.target.value);
    });

    const harvestingImages = [
      "https://images.unsplash.com/photo-1530263668835-373926ea6127?auto=format&fit=crop&q=80&w=3840",
      "https://images.unsplash.com/photo-1464226184884-fa280b87c399?auto=format&fit=crop&q=80&w=3840",
      "https://images.unsplash.com/photo-1523348837708-15d4a09cfac2?auto=format&fit=crop&q=80&w=3840",
      "https://images.unsplash.com/photo-1595113316349-9fa4ee24f884?auto=format&fit=crop&q=80&w=3840",
      "https://images.unsplash.com/photo-1492496913980-501348b6142b?auto=format&fit=crop&q=80&w=3840",
      "https://images.unsplash.com/photo-1471193945509-9ad0617afabf?auto=format&fit=crop&q=80&w=3840",
      "https://images.unsplash.com/photo-1500937386664-56d1dfef3854?auto=format&fit=crop&q=80&w=3840",
      "https://images.unsplash.com/photo-1533122250115-6bb28e9a48c3?auto=format&fit=crop&q=80&w=3840",
      "https://images.unsplash.com/photo-1434064511983-18c6dae20ed5?auto=format&fit=crop&q=80&w=3840",
      "https://images.unsplash.com/photo-1592919016327-04c969399ecc?auto=format&fit=crop&q=80&w=3840"
    ];

    function initHeroSlideshow() {
      const container = document.getElementById("heroSlides");
      if (!container) return;

      harvestingImages.forEach((src) => {
        const slide = document.createElement("div");
        slide.className = "hero-slide";
        slide.style.backgroundImage = `url('${src}')`;
        container.appendChild(slide);
      });

      const slides = document.querySelectorAll(".hero-slide");
      let currentIdx = Math.floor(Math.random() * slides.length);

      function nextSlide() {
        slides[currentIdx].classList.remove("active");
        let nextIdx;
        do {
          nextIdx = Math.floor(Math.random() * slides.length);
        } while (nextIdx === currentIdx);
        currentIdx = nextIdx;
        slides[currentIdx].classList.add("active");
      }

      slides[currentIdx].classList.add("active");
      setInterval(nextSlide, 2500);
    }

    initHeroSlideshow();
    initApp();
  </script>
</body>

</html>